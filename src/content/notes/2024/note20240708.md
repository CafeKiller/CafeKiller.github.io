---
title: '小技巧7'
pubDate: 2024-07-08 16:40:00
tags: ["JavaScript", "微信小程序"]
openComm: true
---

微信小程序 `Promise` 化

```javascript
function promisify(fn) {
  return function (options) {
    return new Promise((resolve, reject) => {
      fn(
        Object.assign({}, options, {
          success: resolve,
          fail: reject
        })
      )
    })
  }
}

// 例 获取系统信息
promisify(wx.getSystemInfo)
  .then((res) => {
    console.log('success', res)
  })
  .catch((err) => {
    console.log('fail', err)
  })
```