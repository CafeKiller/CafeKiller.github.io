---
title: 'Rust 中的所有权系统'
pubDate: 2024-10-10 12:00:00
description: '最新一段时间在空闲摸鱼时，会研究一下 Rust 这门编程语言，说起来还是挺有意思的，尤其是这个「所有权」系统，感觉可以分享一下'
author: 'CafeKiller'
image:
    url: ''
    alt: ''
tags: ["Rust"]
class: '技术'
---

# 前言

这段时间我会撑着上下班空隙或者上班空闲的时间看这个文档：《Rust 程序设计语言 中文版》 ，我属于那种很愿意尝试新语言的那种人，虽然不一定后续会直接用上就是了，但我觉得每一门编程语言都拥有各自的特点，这些特点可能会带给我不同的启发，就比如这次想聊的 Rust 中的 __「所有权」系统__ 。  

我是在去年了解到的 Rust，当时便听说了这门语言的神奇之处，但当时考虑到自己所涉及的领域和 Rust 的优势区间相差较远，且当时还有其他东西的学习优先级高于 Rust 所以当时就放弃了；但最近公司业务少了挺多的，且我自己也空闲了不少就打算先接触一下这门语言，先预习一下。（*因为后续我可能会去研究一下WebAssembly 和 Tauri，而这两个技术都需要使用到Rust*）

# 何为所有权？

**所有权**，即 *ownership* 这是 Rust 中的核心功能之一。

我们都知道所有程序都需要管理其计算机内存的使用方式。比如 C/C++ 程序要求开发者手动分配和释放内存；还有使用 Java/C# 编写的程序则是内置了垃圾回收机制(GC)，它会在程序运行过程中不断地寻找不再使用的内存，并进行处理。  
Rust 的所有权系统也是负责处理这部分；Rust 程序通过所有权系统管理内存，在编译时会进行一系列规则的检查，确保内存的安全，在运行时，所有权系统也能保证程序的运行速度不减慢。

> 在了解所有权系统之前，你必须对一些基本概念有一定的了解，比如：__作用域__、__栈和堆__。   
> 在 Rust 中这些概念和其他语言是基本一致的。

__所有权规则__

- Rust 中的每一个值都有一个被称为其 `所有者` 的变量；
- 值在 `任一时刻` 有且只有一个所有者；
- 当所有者（变量）离开作用域，这个值将被丢弃。

## Rust 中的 String

后续需要使用到 String 类型进行讲解，所以在这里先简单的接受一下 Rust 中的 String。

Rust 中的 String 类型其实和多数现代高级语言类似，默然都是已知大小、不可变的、且可以存储到栈中，离开栈时也会被直接丢弃。（这点和其他多数继承 C 的编程语言类似，都是为了加强 String 的性能） 






# 参考

[Rust 程序设计语言 中文版](https://rustwiki.org/zh-CN/book/title-page.html)