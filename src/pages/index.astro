---
import { getCollection } from 'astro:content'

import BaseLayout from '../layouts/BaseLayout.astro'
import PostCard from '../components/PostCard.astro'

const createAllMd = async () => {
	let _array:Array<any> = []

	return _array.concat(await getCollection('posts'))
				.concat(await getCollection('games'))
				.concat(await getCollection('articles'))
}

const allPosts = await createAllMd()
---

<BaseLayout title="首页">
	<main>
		{
			allPosts.reverse().map((post) => {
				return (<PostCard post={post}/>)
			})
		}
	</main>
</BaseLayout>

<style>
	main {
		padding: 0 30px 60px;
	}
</style>
